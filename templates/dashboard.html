{% extends "base.html" %}

{% block content %}
<!-- Nav Bar -->
<div >
  <nav class="navbar navbar-dark bg-dark">
    <ul class="navbar-nav">
      <li class="nav-item" style="color: white">
        {{ session["user"]['email'] }}
      </li>
      <li class="nav-item">
        <a class="btn btn-primary" href="/user/signout">Sign Out</a>
      </li>
    </ul>
  </nav>
</div>

<!-- Header Section -->

<div class="container">
  <h1 id="month">{{ current_month }}</h1>
  <h1 id="year">{{ current_year }}</h1>
</div>

<!-- Expenses Table Div -->

<div class="container" style="padding-top:50px;">
  <div class="row">
    <div class="col">
      <!-- Table Headers -->
      <h3>Expenses</h3>
      <table id="expensesTable" class="table">
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Amount</th>
          <th></th>
        </tr>
        <!-- Processing existing values -->
        {% if current_items_expenses != null %}
            <tr>
          {% for item in current_items_expenses %}
          
              <td>
                {{ item["name"] }}
              </td>
              <td>
                {{ item["type"] }}
              </td>
              <td>
                {{ item["amount"] }}
              </td>
          
              
              <td><input type="button" value="X" class="btn btn-danger btn-circle" onclick="deleteRowExpenses(this)"/></td>
            </tr>
              {% endfor %}
        {% endif %}
        <!-- Form for sending new value -->
        <form name="expenses" action="/user/expenses/submit" method="post">
          <tr>
            <td>
              <input type="text" name="ExpensesName" class="form-control" required>
            </td>
            <td>
              <select class="form-select" name="ExpensesType" aria-label="Payment Type" required>
                <option ></option>
                <option value="Needs">Needs</option>
                <option value="Wants">Wants</option>
                <option value="Savings">Savings</option>
                </select>
            </td>
            <td>
              <input type="number" name="ExpensesAmount" class="form-control" required>
            </td>
            <td><input type="button" value="X" class="btn btn-danger btn-circle" onclick="deleteRowExpenses(this)"/></td>
          </tr>
      
        </table>
        <button type="submit" class="btn btn-primary btn-circle btn-xl" onclick="addRowExpenses()">+</button>
      </form>
    </div>
    <!-- Div for Pie Chart -->
    <div class="col">
      <canvas id="pieChart6"></canvas>

      </div>
    </div>
  </div>
</div>

<!-- Income Table Div -->

<div class="container" style="padding-top:50px;">
  <div class="row">
    <div class="col">
      <!-- Table Headers -->
      <h3>Income</h3>
      <table id="incomeTable" class="table">
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Amount</th>
          <th></th>
        </tr>
        <!-- Processing existing values -->
        {% if current_items_income != null %}
            <tr>
          {% for item in current_items_income %}
          
              <td>
                {{ item["name"] }}
              </td>
              <td>
                {{ item["type"] }}
              </td>
              <td>
                {{ item["amount"] }}
              </td>
          
              
              <td><input type="button" value="X" class="btn btn-danger btn-circle" onclick="deleteRowIncome(this)"/></td>
            </tr>
              {% endfor %}
        {% endif %}
        <!-- Form for sending new value -->
        <form name="income" action="/user/income/submit" method="post">
          <tr>
            <td>
              <input type="text" name="IncomeName" class="form-control" required>
            </td>
            <td>
              <select class="form-select" name="IncomeType" aria-label="Payment Type" required>
                <option ></option>
                <option value="Salary">Salary</option>
                <option value="Side Hustle">Side Hustle</option>
                <option value="Second Job">Second Job</option>
                <option value="Other">Other</option>
                </select>
            </td>
            <td>
              <input type="number" name="IncomeAmount" class="form-control" required>
            </td>
            <td><input type="button" value="X" class="btn btn-danger btn-circle" onclick="deleteRowIncome(this)"/></td>
          </tr>
      
        </table>
        <button type="submit" class="btn btn-primary btn-circle btn-xl" onclick="addRowIncome()">+</button>
      </form>
    </div>
    <!-- Div for Pie Chart -->
    <div class="col">

    </div>
  </div>
</div>
{% endblock %}