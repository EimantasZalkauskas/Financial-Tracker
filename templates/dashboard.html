{% extends "base.html" %}

{% block content %}

<nav class="navbar navbar-dark bg-dark">
  <ul class="navbar-nav">
    <li class="nav-item" style="color: white">
      {{ session["user"]['email'] }}
    </li>
    <li class="nav-item">
      <a class="btn btn-primary" href="/user/signout">Sign Out</a>
    </li>
  </ul>
</nav>

<h1 id="month">{{ current_month }}</h1>
<h1 id="year">{{ current_year }}</h1>

<div style="padding-top:50px;">
  <!-- Table Headers -->
  <table id="expensesTable" class="table">
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Amount</th>
      <th></th>
    </tr>
    <!-- Processing existing values -->
    {% if current_items != null %}
        <tr>
      {% for item in current_items %}
      
          <td>
            {{ item["name"] }}
          </td>
          <td>
            {{ item["type"] }}
          </td>
          <td>
            {{ item["amount"] }}
          </td>
      
          
          <td><input type="button" value="X" class="btn btn-danger btn-circle" onclick="deleteRow(this)"/></td>
        </tr>
          {% endfor %}
    {% endif %}
    <!-- Form for sending new value -->
    <form name="expenses" action="/user/expenses/submit" method="post">
      <tr>
        <td>
          <input type="text" name="Name" class="form-control" required>
        </td>
        <td>
          <select class="form-select" name="Type" aria-label="Payment Type" required>
            <option ></option>
            <option value="Needs">Needs</option>
            <option value="Wants">Wants</option>
            <option value="Savings">Savings</option>
            </select>
        </td>
        <td>
          <input type="number" name="Amount" class="form-control" required>
        </td>
        <td><input type="button" value="X" class="btn btn-danger btn-circle" onclick="deleteRow(this)"/></td>
      </tr>
  
    </table>
    <button type="submit" class="btn btn-primary btn-circle btn-xl" onclick="addRow()">+</button>
  </form>

</div>
{% endblock %}